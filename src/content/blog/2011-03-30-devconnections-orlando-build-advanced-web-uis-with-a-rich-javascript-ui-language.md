---
status: publish
published: true
pubDatetime: 2011-03-30T20:00:00.000Z
title: DevConnections Orlando, Build Advanced Web UIs with a Rich JavaScript UI Language
author:
  display_name: Peter Kellner
  login: admin
  email: peter@peterkellner.net
  url: ''
author_login: admin
author_email: peter@peterkellner.net
wordpress_id: 1455
wordpress_url: https://peterkellner.net/2011/03/30/devconnections-orlando-build-advanced-web-uis-with-a-rich-javascript-ui-language/
date: '2011-03-30 07:26:30 -0700'
date_gmt: '2011-03-30 14:26:30 -0700'
categories:
- Community
- Presentations
- Sencha
- ".NET 4.0"
- MVC3
- Sencha
tags: []
---
<blockquote>
<p>To build fully-featured web applications that support complex interaction in a reasonable amount of time requires a high-end JavaScript library. Someday, maybe JQueryUI will be good for this, but for now, the choices are few and include ExtJS, Dojo, YUI and a handful of others. This session will use ExtJS as the example. We will use Microsoft’s ASP.NET MVC as the data / CRUD layer and from that, we will build a typical LOB (line of business) application using complex UI elements. Those elements include layout managers, data grids, extensive validation, spinner controls and other advanced UI features. To get an idea of what I’m talking about, spend five minutes looking at the examples on the ExtJS web site demonstrating these advanced web UI features <a href="http://www.sencha.com/products/js/">http://www.sencha.com/products/js/</a>. You will be convinced that spending hundreds of hours trying to build something not nearly as well done as this is a waste of time when there are such excellent libraries already built for you.</p>
</blockquote>
<p>The source attached below for my demos.</p>
<div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:8eb9d37f-1541-4f29-b6f4-1eea890d4876:e83cd384-32b1-473e-a4b3-7328eea142cb" class="wlWriterEditableSmartContent">
<div><a href="/FilesForWebDownload/P_8B12/DemoApp.zip" target="_self">Project Used For Demo (Including Notes as txt files)</a></div></p>
</div>
<p><a href="/FilesForWebDownload/P_8B12/image.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/FilesForWebDownload/P_8B12/image_thumb.png" width="244" height="208" /></a></p>
<p>  <!--more-->
<p>Final <a href="http://sencha.com">ExtJS4</a> JavaScript (that didn’t quite work, but working now)</p>
<div id="codeSnippetWrapper">
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><span style="color: #008000">// Load dependencies</span><br />Ext.require([<br />    <span style="color: #006080">'Ext.data.*'</span>,<br />    <span style="color: #006080">'Ext.button.*'</span>,<br />    <span style="color: #006080">'Ext.form.*'</span><br />]);<br /><br />Ext.onReady(<span style="color: #0000ff">function</span> () {<br /><br />    <span style="color: #008000">// Date renderer</span><br />    <span style="color: #0000ff">var</span> dateConvert = <span style="color: #0000ff">function</span> (val, record) {<br />        <span style="color: #0000ff">if</span> (val.split(<span style="color: #006080">'('</span>).length == 2) {<br />            <span style="color: #0000ff">var</span> dateObj = <span style="color: #0000ff">new</span> Date(parseInt(val.substr(6)));<br />            <span style="color: #0000ff">return</span> Ext.util.Date.format(dateObj, <span style="color: #006080">'m/d/Y'</span>);<br />        } <span style="color: #0000ff">else</span> {<br />            <span style="color: #0000ff">return</span> val;<br />        }<br /><br />    }<br /><br />    Ext.regModel(<span style="color: #006080">'Users'</span>, {<br /><br />        fields: [<br />            { name: <span style="color: #006080">'Id'</span>, type: <span style="color: #006080">'int'</span> },<br />            { name: <span style="color: #006080">'Username'</span> },<br />            { name: <span style="color: #006080">'CreationDate'</span> },<br />            { name: <span style="color: #006080">'FirstName'</span> },<br />            { name: <span style="color: #006080">'LastName'</span> },<br />            { name: <span style="color: #006080">'PlanExpirationDate'</span> }<br />        ],<br />        <span style="color: #008000">// Proxy</span><br />        proxy: {<br />            type: <span style="color: #006080">'ajax'</span>,<br />            url: <span style="color: #006080">'/Users/JsonData'</span>,<br />            api: {<br />                read :    <span style="color: #006080">'/Users/JsonData'</span>,<br />                create :  <span style="color: #006080">'/Users/Create'</span>,<br />                update :    <span style="color: #006080">'/Users/Edit'</span>,<br />                destroy : <span style="color: #006080">'/Users/Delete'</span><br />            },<br />            <span style="color: #008000">// Json Reader</span><br />            reader: {<br />                type: <span style="color: #006080">'json'</span>,<br />                idProperty: <span style="color: #006080">'Id'</span>,<br />                totalProperty: <span style="color: #006080">'total'</span>,<br />                root: <span style="color: #006080">'data'</span><br />            },<br />            writer: {<br />                type: <span style="color: #006080">'json'</span>,<br />                encode: <span style="color: #0000ff">false</span>,<br />                listful: <span style="color: #0000ff">true</span>,<br />                writeAllFields: <span style="color: #0000ff">true</span><br />            },<br />            headers: { <span style="color: #006080">'Content-Type'</span>: <span style="color: #006080">'application/json; charset=UTF-8'</span> }                    <br />        }<br /><br />    });<br /><br />    <span style="color: #0000ff">var</span> usersStore = <span style="color: #0000ff">new</span> Ext.data.Store({<br />        model: <span style="color: #006080">'Users'</span>,<br />        autoLoad: <span style="color: #0000ff">true</span>,<br />        pageSize: 10<br />    });<br /><br />    <br /><br />    <span style="color: #0000ff">var</span> gridForm = Ext.create(<span style="color: #006080">'Ext.form.FormPanel'</span>, {<br />        id: <span style="color: #006080">'userFormPanel'</span>,<br />        frame: <span style="color: #0000ff">true</span>,<br />        title: <span style="color: #006080">'Users Data'</span>,<br />        store: usersStore,<br />        bodyPadding: 5,<br />        width: 910,<br />        layout: <span style="color: #006080">'column'</span>,    <span style="color: #008000">// Specifies that the items will now be arranged in columns</span><br /><br />        fieldDefaults: {<br />            labelAlign: <span style="color: #006080">'left'</span>,<br />            msgTarget: <span style="color: #006080">'side'</span><br />        },<br /><br />        items: [{<br />            columnWidth: 0.65,<br />            xtype: <span style="color: #006080">'gridpanel'</span>,<br />            id: <span style="color: #006080">'usersGrid'</span>,<br />            store: usersStore,<br />            height: 410,<br />            title: <span style="color: #006080">'Users'</span>,<br /><br />            headers: [<br />        {<br />            text: <span style="color: #006080">'User Name'</span>,<br />            flex: 1,<br />            sortable: <span style="color: #0000ff">true</span>,<br />            dataIndex: <span style="color: #006080">'Username'</span><br />        },<br />        {<br />            text: <span style="color: #006080">'CreationDate'</span>,<br />            width: 100,<br />            sortable: <span style="color: #0000ff">true</span>,<br />            renderer: dateConvert,<br />            dataIndex: <span style="color: #006080">'CreationDate'</span><br />        },<br />        {<br />            text: <span style="color: #006080">'First Name'</span>,<br />            width: 100,<br />            sortable: <span style="color: #0000ff">true</span>,<br />            dataIndex: <span style="color: #006080">'FirstName'</span><br />        },<br />        {<br />            text: <span style="color: #006080">'Last Name'</span>,<br />            width: 100,<br />            sortable: <span style="color: #0000ff">true</span>,<br />            dataIndex: <span style="color: #006080">'LastName'</span><br />        },<br />        {<br />            text: <span style="color: #006080">'Plan Expiration Date'</span>,<br />            width: 120,<br />            sortable: <span style="color: #0000ff">true</span>,<br />            renderer: dateConvert,<br />            dataIndex: <span style="color: #006080">'PlanExpirationDate'</span><br />        }<br />    ],<br /><br />    listeners: {<br />        selectionchange: <span style="color: #0000ff">function</span> (model, records) {<br />            <span style="color: #0000ff">if</span> (records[0]) {<br />                <span style="color: #0000ff">var</span> recordToLoad = {<br />                    Username: records[0].data.Username,<br />                    CreationDate: dateConvert(records[0].data.CreationDate),<br />                    FirstName: records[0].data.FirstName,<br />                    LastName: records[0].data.LastName,<br />                    PlanExpirationDate: dateConvert(records[0].data.PlanExpirationDate)<br />                }<br />                <span style="color: #0000ff">this</span>.up(<span style="color: #006080">'form'</span>).getForm().setValues(recordToLoad);<br />            }<br />        }<br />    },<br />    bbar: <span style="color: #0000ff">new</span> Ext.PagingToolbar({<br />        store: usersStore<br />    })<br />        }, {<br />            columnWidth: 0.35,<br />            margin: <span style="color: #006080">'0 0 0 10'</span>,<br />            bodyStyle: {<br />                margin: <span style="color: #006080">'4px'</span><br />            },<br />            xtype: <span style="color: #006080">'form'</span>,<br />            id: <span style="color: #006080">'userForm'</span>,<br />            title: <span style="color: #006080">'Add / Edit User Details'</span>,<br />            defaults: {<br />                width: 260,<br />                labelWidth: 120,<br />                margin: <span style="color: #006080">'7px'</span><br />            },<br />            defaultType: <span style="color: #006080">'textfield'</span>,<br />            items: [{<br />                fieldLabel: <span style="color: #006080">'User Name'</span>,<br />                name: <span style="color: #006080">'Username'</span><br />            }, {<br />                xtype: <span style="color: #006080">'datefield'</span>,<br />                fieldLabel: <span style="color: #006080">'Creation Date'</span>,<br />                name: <span style="color: #006080">'CreationDate'</span><br />            }, {<br />                fieldLabel: <span style="color: #006080">'First Name'</span>,<br />                name: <span style="color: #006080">'FirstName'</span><br />            }, {<br />                fieldLabel: <span style="color: #006080">'Last Name'</span>,<br />                name: <span style="color: #006080">'LastName'</span><br />            }, {<br />                xtype: <span style="color: #006080">'datefield'</span>,<br />                fieldLabel: <span style="color: #006080">'Plan Expiration Date'</span>,<br />                name: <span style="color: #006080">'PlanExpirationDate'</span><br />            }],<br />            buttons: [{<br />                text: <span style="color: #006080">'Update Record'</span>,<br />                scale: <span style="color: #006080">'medium'</span>,<br />                handler: <span style="color: #0000ff">function</span> (btn, e) {<br />                    <span style="color: #0000ff">var</span> userSelectionModel = Ext.getCmp(<span style="color: #006080">'usersGrid'</span>).getSelectionModel();<br />                    <span style="color: #0000ff">if</span> (userSelectionModel.hasSelection()) {<br />                        <span style="color: #008000">// get the form</span><br />                        <span style="color: #0000ff">var</span> formCmp = Ext.getCmp(<span style="color: #006080">'userForm'</span>);<br />                        <span style="color: #008000">// get the form field values</span><br />                        <span style="color: #0000ff">var</span> formValues = formCmp.getForm().getValues();<br />                        <span style="color: #008000">// get the selected record</span><br />                        <span style="color: #0000ff">var</span> recordSelection = userSelectionModel.getLastSelected();<br />                        <span style="color: #008000">// update the record with the form fields</span><br />                        recordSelection.set(formValues)<br />                        <span style="color: #008000">// sync store</span><br />                        usersStore.sync();<br />                    }<br />                }<br />            }, {<br />                text: <span style="color: #006080">'Add As New Record'</span>,<br />                scale: <span style="color: #006080">'medium'</span>,<br />                handler: <span style="color: #0000ff">function</span> (btn, e) {<br />                    <span style="color: #008000">// get the form</span><br />                    <span style="color: #0000ff">var</span> formCmp = Ext.getCmp(<span style="color: #006080">'userForm'</span>);<br />                    <span style="color: #008000">// get the form field values</span><br />                    <span style="color: #0000ff">var</span> formValues = formCmp.getForm().getValues();<br />                    <span style="color: #008000">// add to the the store</span><br />                    usersStore.add(formValues);<br />                    <span style="color: #008000">// sync with the store</span><br />                    usersStore.sync();<br />                }<br />            }, {<br />                text: <span style="color: #006080">'Delete Record'</span>,<br />                scale: <span style="color: #006080">'medium'</span>,<br />                handler: <span style="color: #0000ff">function</span> (btn, e) {<br />                    <span style="color: #008000">// get the user grid selection model</span><br />                    <span style="color: #0000ff">var</span> userSelectionModel = Ext.getCmp(<span style="color: #006080">'usersGrid'</span>).getSelectionModel();<br />                    <span style="color: #008000">// check if there's a selection</span><br />                    <span style="color: #0000ff">if</span> (userSelectionModel.hasSelection()) {<br />                        <span style="color: #008000">// remove the selected record</span><br />                        usersStore.remove(userSelectionModel.getLastSelected());<br />                        usersStore.sync();<br />                    }<br />                }<br />            }]<br />        }],<br />        renderTo: <span style="color: #006080">'extjs-grid'</span><br />    });<br /><br />});</pre>
<p></div>
