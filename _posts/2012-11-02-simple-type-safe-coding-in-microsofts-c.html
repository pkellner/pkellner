---
layout: post
status: publish
published: true
title: Simple Type Safe Coding in Microsoft&rsquo;s C#
author:
  display_name: Peter Kellner
  login: admin
  email: peter@peterkellner.net
  url: ''
author_login: admin
author_email: peter@peterkellner.net
wordpress_id: 2295
wordpress_url: http://peterkellner.net/?p=2295
date: '2012-11-02 14:19:55 -0700'
date_gmt: '2012-11-02 21:19:55 -0700'
categories:
- C#
tags: []
---
<p>&#160;</p>
<p>I often like to show programming tips around simple things.&#160; Over the years, I’ve found that it is easy to get Lazy and do cutting and pasting type coding, however for reliability and maintainability, it’s important to stick to the principle of less is more.</p>
<p>Below is just a simple pattern I often use when doing something that requires processing over a set of images (or anything) multiple times.</p>
<pre class="csharpcode"><span class="kwrd">foreach</span> (var rec <span class="kwrd">in</span> imageDetails)
{
    <span class="kwrd">const</span> <span class="kwrd">string</span> imageTypeFull = <span class="str">&quot;ImageTypeFull&quot;</span>;
    <span class="kwrd">const</span> <span class="kwrd">string</span> imageTypeThumb = <span class="str">&quot;ImageTypeThumb&quot;</span>;
    <span class="kwrd">foreach</span> (var imageType <span class="kwrd">in</span> <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt; {imageTypeFull, imageTypeThumb})
    {
        var bytes = imageType == imageTypeFull
                        ? db.DetailBytes.Where(a =&gt; a.Id == rec.Id).Select(b =&gt; b.DataBytes).
                                FirstOrDefault()
                        : db.DetailBytes.Where(a =&gt; a.Id == rec.Id).Select(b =&gt; b.DataBytes).
                                FirstOrDefault();</pre>
<p>
<style type="text/css">
.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>…</p>
<p>Basically, all through the foreach loop, I check for which imageType I am and do the appropriate thing.&#160; Not a big hint, but something that is easy to forget to do.</p>
<p>HTH’s.</p>
