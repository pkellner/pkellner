---
layout: post
status: publish
published: true
title: Adding a List of Recent Posts To The Silicon Valley Code Camp Home Page (From
  RSS Feed)
author:
  display_name: Peter Kellner
  login: admin
  email: peter@peterkellner.net
  url: ''
author_login: admin
author_email: peter@peterkellner.net
wordpress_id: 1366
wordpress_url: http://peterkellner.net/2010/09/12/simplerssreader-in-silicon-valley-code-camp-objectdatasource-repeater-aspnet/
date: '2010-09-12 14:44:26 -0700'
date_gmt: '2010-09-12 21:44:26 -0700'
categories:
- ObjectDataSource
- RSS
- ".NET 4.0"
- Repeater
tags: []
---
<p>There are 10,000 ways to do this.&#160; Back way back when (<a href="http://www.asp.net/">ASP.NET</a> 1.1) days, we would have created either a custom control to do this, then added a Repeater control on the page to display it.&#160; Well, the <a href="http://siliconvalley-codecamp.com/">Silicon Valley Code Camp</a> Website was started back in those days and since what I want is so simple, I decided to do just that (minus the custom control).&#160; I really only wanted to spend about 10 minutes doing this, and as it turned out, it took about 30.&#160; Oh well, 3x plan verses execution.&#160; Could do better next time.</p>
<p>So, here is basically what I want on the left side bar of the home page of Silicon Valley Code Camp:</p>
<p> <!--more-->
<p><a href="http://blog.siliconvalley-codecamp.com/"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="RSS Feed Look" border="0" alt="RSS Feed Look" src="http://peterkellner.net/FilesForWebDownload/AddingaListofRecentPostsToTheSiliconVall_CF44/image.png" width="177" height="346" /></a> </p>
<p>&#160;</p>
<p>First, I’ll attach my simple project I build to do this standalone so you can run it yourself, then, I’ll do a quick step through of the key code.&#160; </p>
<div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:8eb9d37f-1541-4f29-b6f4-1eea890d4876:a42e11ac-159d-4bc9-8e14-637ad835e07b" class="wlWriterEditableSmartContent">
<div><a href="http://peterkellner.net/FilesForWebDownload/AddingaListofRecentPostsToTheSiliconVall_CF44/SimpleRSSReaderJustTitleAndLink.zip" target="_self">SimpleRSSReaderJustTitleAndLink.zip</a></div></p>
</div>
<p>All that is really in this project is a simple c# class file that contains a business object and one get method to retrieve the list.&#160; That file is called RSSFeed.cs.&#160; I’ve pasted all the code of that class below:</p>
<div id="codeSnippetWrapper">
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><span style="color: #0000ff">using</span> System.Collections.Generic;<br /><span style="color: #0000ff">using</span> System.ComponentModel;<br /><span style="color: #0000ff">using</span> System.Linq;<br /><span style="color: #0000ff">using</span> System.Xml.Linq;<br /><br /><span style="color: #0000ff">namespace</span> App_Code<br />{<br />    [DataObject(<span style="color: #0000ff">true</span>)]<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> RSSFeedObject<br />    {<br /><br />        [DataObjectMethod(DataObjectMethodType.Select, <span style="color: #0000ff">true</span>)]<br />        <span style="color: #0000ff">public</span> List&lt;RSSItem&gt; Get(<span style="color: #0000ff">int</span> numberToGet)<br />        {<br />            XDocument feedXML = XDocument.Load<br />              (<span style="color: #006080">&quot;http://blog.siliconvalley-codecamp.com/feed/&quot;</span>);<br /><br />            var feeds = feedXML.Descendants(<span style="color: #006080">&quot;item&quot;</span>).<br />                Select(feed =&gt; <span style="color: #0000ff">new</span><br />                   {<br />                       PostTitle = feed.Element(<span style="color: #006080">&quot;title&quot;</span>).Value,<br />                       PostURL = feed.Element(<span style="color: #006080">&quot;link&quot;</span>).Value<br />                   });<br />            var rssItems = <span style="color: #0000ff">new</span> List&lt;RSSItem&gt;();<br />            <span style="color: #0000ff">int</span> id = 0;<br />            <span style="color: #0000ff">foreach</span> (var rec <span style="color: #0000ff">in</span> feeds)<br />            {<br />                rssItems.Add(<span style="color: #0000ff">new</span> RSSItem<br />                                (id,rec.PostTitle,rec.PostURL));<br />                id++;<br />                <span style="color: #0000ff">if</span> (id &gt;= numberToGet)<br />                {<br />                    <span style="color: #0000ff">break</span>;<br />                }<br />            }<br />            <span style="color: #0000ff">return</span> rssItems;                    <br />        }<br /><br />    }<br /><br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> RSSItem<br />    {<br />        [DataObjectField(<span style="color: #0000ff">true</span>)]<br />        <span style="color: #0000ff">public</span> <span style="color: #0000ff">int</span> Id { get; set; }<br /><br />        [DataObjectField(<span style="color: #0000ff">false</span>)]<br />        <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> PostTitle { get; set; }<br /><br />        [DataObjectField(<span style="color: #0000ff">false</span>)]<br />        <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> PostURL { get; set; }<br /><br />        <span style="color: #0000ff">public</span> RSSItem(<span style="color: #0000ff">int</span> id, <span style="color: #0000ff">string</span> postTitle, <br />                       <span style="color: #0000ff">string</span> postURL)<br />        {<br />            Id = id;<br />            PostTitle = postTitle;<br />            PostURL = postURL;<br />        }<br />    }<br />}</pre>
<p></div>
<p>Then, in the Default.aspx page, you can simply reference this object with a <a href="http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.repeater.aspx">Repeater</a> and an <a href="http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.objectdatasource.aspx">ObjectDataSource</a> and you are done!&#160; That is it, very simple.&#160; Below is the page code.</p>
<div id="codeSnippetWrapper">
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><span style="color: #0000ff">&lt;</span><span style="color: #800000">asp:ObjectDataSource</span> <span style="color: #ff0000">ID</span><span style="color: #0000ff">=&quot;ObjectDataSourceRSS&quot;</span> <span style="color: #ff0000">runat</span><span style="color: #0000ff">=&quot;server&quot;</span><br />   <span style="color: #ff0000">SelectMethod</span><span style="color: #0000ff">=&quot;Get&quot;</span> <span style="color: #ff0000">TypeName</span><span style="color: #0000ff">=&quot;App_Code.RSSFeedObject&quot;</span><span style="color: #0000ff">&gt;</span><br />   <span style="color: #0000ff">&lt;</span><span style="color: #800000">SelectParameters</span><span style="color: #0000ff">&gt;</span><br />       <span style="color: #0000ff">&lt;</span><span style="color: #800000">asp:Parameter</span> <span style="color: #ff0000">DefaultValue</span><span style="color: #0000ff">=&quot;5&quot;</span> <span style="color: #ff0000">Name</span><span style="color: #0000ff">=&quot;numberToGet&quot;</span> <span style="color: #ff0000">Type</span><span style="color: #0000ff">=&quot;Int32&quot;</span> <span style="color: #0000ff">/&gt;</span><br />   <span style="color: #0000ff">&lt;/</span><span style="color: #800000">SelectParameters</span><span style="color: #0000ff">&gt;</span><br /><span style="color: #0000ff">&lt;/</span><span style="color: #800000">asp:ObjectDataSource</span><span style="color: #0000ff">&gt;</span><br /><span style="color: #0000ff">&lt;</span><span style="color: #800000">asp:Repeater</span> <span style="color: #ff0000">ID</span><span style="color: #0000ff">=&quot;RepeaterRSS&quot;</span> <span style="color: #ff0000">runat</span><span style="color: #0000ff">=&quot;server&quot;</span> <span style="color: #ff0000">DataSourceID</span><span style="color: #0000ff">=&quot;ObjectDataSourceRSS&quot;</span><span style="color: #0000ff">&gt;</span><br />   <span style="color: #0000ff">&lt;</span><span style="color: #800000">HeaderTemplate</span><span style="color: #0000ff">&gt;</span><br />       <span style="color: #0000ff">&lt;</span><span style="color: #800000">ul</span><span style="color: #0000ff">&gt;</span><br />   <span style="color: #0000ff">&lt;/</span><span style="color: #800000">HeaderTemplate</span><span style="color: #0000ff">&gt;</span><br />   <span style="color: #0000ff">&lt;</span><span style="color: #800000">FooterTemplate</span><span style="color: #0000ff">&gt;</span><br />       <span style="color: #0000ff">&lt;/</span><span style="color: #800000">ul</span><span style="color: #0000ff">&gt;</span><br />   <span style="color: #0000ff">&lt;/</span><span style="color: #800000">FooterTemplate</span><span style="color: #0000ff">&gt;</span><br />   <span style="color: #0000ff">&lt;</span><span style="color: #800000">ItemTemplate</span><span style="color: #0000ff">&gt;</span><br />       <span style="color: #0000ff">&lt;</span><span style="color: #800000">li</span><span style="color: #0000ff">&gt;</span><br />           <span style="color: #0000ff">&lt;</span><span style="color: #800000">asp:HyperLink</span> <span style="color: #ff0000">ID</span><span style="color: #0000ff">=&quot;HyperLinkURL&quot;</span> <span style="color: #ff0000">runat</span><span style="color: #0000ff">=&quot;server&quot;</span> <br />               <span style="color: #ff0000">NavigateUrl</span><span style="color: #0000ff">='&lt;%# Eval(&quot;PostURL&quot;) %&gt;'</span><br />               <span style="color: #ff0000">Text</span><span style="color: #0000ff">='&lt;%# Eval(&quot;PostTitle&quot;) %&gt;'</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">asp:HyperLink</span><span style="color: #0000ff">&gt;</span><br />       <span style="color: #0000ff">&lt;/</span><span style="color: #800000">li</span><span style="color: #0000ff">&gt;</span><br />   <span style="color: #0000ff">&lt;/</span><span style="color: #800000">ItemTemplate</span><span style="color: #0000ff">&gt;</span><br /><span style="color: #0000ff">&lt;/</span><span style="color: #800000">asp:Repeater</span><span style="color: #0000ff">&gt;</span></pre>
<p></div>
<p>I’m sure someone is going to point out how this could have been done in three lines of code.&#160; Until then, I’ll keep this in the Silicon Valley Code Camp site.</p>
<p>BTW, if the site looks different, it’s because a wizard html/css guy has come by and cleaned it up to look good. What you see in the top screen shot is what it looks like without any formatting.&#160; Just unordered list and listitems with no formatting.</p>
<p>HTH’s!</p>
