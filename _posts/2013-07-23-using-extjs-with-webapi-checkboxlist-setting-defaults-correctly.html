---
layout: post
status: publish
published: true
title: Using ExtJS with WebAPI CheckBoxList Setting Defaults Correctly
author:
  display_name: Peter Kellner
  login: admin
  email: peter@peterkellner.net
  url: ''
author_login: admin
author_email: peter@peterkellner.net
wordpress_id: 3670
wordpress_url: http://peterkellner.net/?p=3670
date: '2013-07-23 09:25:57 -0700'
date_gmt: '2013-07-23 16:25:57 -0700'
categories:
- Sencha
- Sencha
- SenchaMVC
- SenchaTouch
- ExtJS
tags: []
---
<p>Often, we found ourselves creating lists of checkboxes with <a href="http://www.sencha.com/" target="_blank">Sencha’s</a> <a href="http://www.sencha.com/products/extjs/" target="_blank">ExtJS</a> and we want to call Microsoft’s WebAPI in <a href="http://www.microsoft.com/visualstudio/eng/products/visual-studio-ultimate-2012" target="_blank">Visual Studio</a>.&#160; ExtJS by default wants to send form values on and off and <a href="http://www.asp.net/web-api" target="_blank">WebAPI</a> expects booleans which are true and false.&#160; You can override this in the ExtJS 4.2.1 checkbox control by setting inputValue: ‘true’ and uncheckedValue: ‘false’ on every checkbox, or, you can take advantage of the “defaults” parameter in the checkboxgroup and then you do not have to do it on each checkbox.&#160; Here is what are checkbox group looks like rendered.</p>
<p><a href="http://peterkellner.net/wp/wp-content/uploads/2013/07/image2.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://peterkellner.net/wp/wp-content/uploads/2013/07/image_thumb2.png" width="374" height="180" /></a> </p>
<p>The code to generate it is below (notice the default: attribute in the JavaScript)</p>
<div id="codeSnippetWrapper">
<pre id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: &#39;Courier New&#39;, courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">{<br />    xtype: <span style="color: #006080">'checkboxgroup'</span>,<br />    border: 1,<br />    defaults: {<br />        inputValue: <span style="color: #006080">'true'</span>,<br />        uncheckedValue: <span style="color: #006080">'false'</span><br />    },<br />    layout: {<br />        type: <span style="color: #006080">'fit'</span><br />    },<br />    fieldLabel: <span style="color: #006080">'Include Sponsors in these mailings'</span>,<br />    vertical: <span style="color: #0000ff">true</span>,<br />    items: [<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'sponsorPlatinum'</span>,<br />            boxLabel: <span style="color: #006080">'platinum'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'sponsorGold'</span>,<br />            boxLabel: <span style="color: #006080">'gold'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'sponsorSilver'</span>,<br />            boxLabel: <span style="color: #006080">'silver'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'sponsorBronze'</span>,<br />            boxLabel: <span style="color: #006080">'bronze'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'sponsorCommunity'</span>,<br />            boxLabel: <span style="color: #006080">'community'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'currentSponsor'</span>,<br />            boxLabel: <span style="color: #006080">'Sponsor: Current Sponsor This Year'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'pastSponsor'</span>,<br />            boxLabel: <span style="color: #006080">'Sponsor: Past Sponsor'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'generalCCMailings'</span>,<br />            boxLabel: <span style="color: #006080">'Sponsor: GeneralCCMailings'</span><br />        },<br />        {<br />            xtype: <span style="color: #006080">'checkboxfield'</span>,<br />            name: <span style="color: #006080">'sponsorCCMailings'</span>,<br />            boxLabel: <span style="color: #006080">'Sponsor: SponsorCCMailings'</span><br />        }<br />    ]<br />}</pre>
<p></div>
<p>And, on the WebAPI side, when doing a post with a form including this, you will want to have a data structure catching the data something like this:</p>
<div id="codeSnippetWrapper">
<pre id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: &#39;Courier New&#39;, courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">[HttpPost]<br />    [ActionName(<span style="color: #006080">&quot;EmailGenerate&quot;</span>)]<br />    [Authorize(Roles = <span style="color: #006080">&quot;admin&quot;</span>)]<br />    <span style="color: #0000ff">public</span> HttpResponseMessage PostEmailGenerate(EmailSendDetail emailSendDetail)<br />    {</pre>
<p></div>
<p>and the structure of EmailSendDetail is this:</p>
<div id="codeSnippetWrapper">
<pre id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: &#39;Courier New&#39;, courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> EmailSendDetail<br />{<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> EmailFrom { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> PreviewEmailSend { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> EmailUrl { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> Subject { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> SubjectHtml { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> MailBatchLabel { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> SqlStatement { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> EmailHtml { get; set; }<br /><br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> SponsorPlatinum { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> SponsorGold { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> SponsorSilver { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> SponsorBronze { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> CurrentSponsor { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> PastSponsor { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> GeneralCCMailings { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">bool</span> SponsorCCMailings { get; set; }<br /><br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> Page { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> Start { get; set; }<br />    <span style="color: #0000ff">public</span> <span style="color: #0000ff">string</span> Limit { get; set; }<br /><br /><br />}</pre>
<p></div>
<p>Hope this helps!</p>
